<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.1.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/04/hello-world/" class="article-date">
  <time datetime="2020-09-04T13:04:02.053Z" itemprop="datePublished">2020-09-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/04/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/09/04/hello-world/" data-id="ckeo9c8js0000aov4cw2fe3yu" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-spring实战4" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/04/spring%E5%AE%9E%E6%88%984/" class="article-date">
  <time datetime="2020-09-04T10:21:38.000Z" itemprop="datePublished">2020-09-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/04/spring%E5%AE%9E%E6%88%984/">spring实战4第二章</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<h2 id="第二章，装配Bean"><a href="#第二章，装配Bean" class="headerlink" title="第二章，装配Bean"></a>第二章，装配Bean</h2><h3 id="2-0-各种注解"><a href="#2-0-各种注解" class="headerlink" title="2.0.各种注解"></a>2.0.各种注解</h3><h4 id="1-Component"><a href="#1-Component" class="headerlink" title="1.@Component"></a>1.@Component</h4><p>@component注解，表明该类会作为组件类，并告知Spring要为这个类创建bean，不过组件扫描默认是不启动的。<br>并且bean的默认ID为首字母变为小写的类名。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@component</span></span><br><span class="line"><span class="keyword">public</span>  <span class="class"><span class="keyword">class</span>  <span class="title">sgtppers</span>  <span class="keyword">implements</span>  <span class="title">compactDisac</span></span>&#123;-- &#125;  <span class="comment">//sgtppers就是此类</span></span><br></pre></td></tr></table></figure>

<h4 id="2-ComponentScan"><a href="#2-ComponentScan" class="headerlink" title="2.@ComponentScan"></a>2.@ComponentScan</h4><p>@componentScan注解，表明在spring中启动组件扫描，如果没有其他配置的话，默认扫描与配置类相同的包。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@componentScan</span></span><br><span class="line"><span class="keyword">public</span>  <span class="class"><span class="keyword">class</span>  <span class="title">CDplayerConfig</span></span>&#123;  --&#125;     <span class="comment">//  扫描CDplayerConfig类位于的包和包下的所有子包 </span></span><br></pre></td></tr></table></figure>

<h4 id="3-contextConfiguration"><a href="#3-contextConfiguration" class="headerlink" title="3.@contextConfiguration"></a>3.@contextConfiguration</h4><p>@contextConfiguration注解，会告诉你它需要在类中加载配置，因为类中包含@componentScan注解。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@contextConfiguration</span>（<span class="string">&quot;classes=CDPlayerConfig.class&quot;</span>）<span class="comment">//classes代表那个类</span></span><br><span class="line"><span class="keyword">public</span>  <span class="class"><span class="keyword">class</span>  <span class="title">CDplayerTest</span></span>&#123;--&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="4-Autwired"><a href="#4-Autwired" class="headerlink" title="4.@Autwired"></a>4.@Autwired</h4><p>@Autowired注解，表明当spring创建类的bean的时候，会通过这个构造器来进行实例化，并且会传入一个可设置给类的类型的bean。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">public</span>  CDplayer（CompactDisc   cd）&#123; --&#125;       <span class="comment">//创建的是CDplayer类。 将CompactDisc bean传入类中 </span></span><br></pre></td></tr></table></figure>

<p>不仅能够用在构造器上，还可以用在属性的setter方法上。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">public</span>  <span class="keyword">void</span>  setCompactDisc（CompactDisc   cd）&#123;--&#125;   <span class="comment">//类的setCompactDisc方法。 将CompactDisc bean传入类中</span></span><br></pre></td></tr></table></figure>

<h4 id="5-Configuration"><a href="#5-Configuration" class="headerlink" title="5.@Configuration"></a>5.@Configuration</h4><p>@configuration注解，表明这个类是一个配置类。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@configuration</span></span><br><span class="line"><span class="keyword">public</span>  <span class="class"><span class="keyword">class</span>  <span class="title">CDplayerConfig</span></span>&#123;--&#125;                </span><br></pre></td></tr></table></figure>

<h4 id="6-Bean"><a href="#6-Bean" class="headerlink" title="6.@Bean"></a>6.@Bean</h4><p>在javaConfig中声明bean，需要编写方法，这个方法会创建所需类型的实例，然后给这个方法添加@Bean注解。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span>  CompactDisc  sgtPeppers&#123;        <span class="comment">//声明了CompactDisc bean</span></span><br><span class="line">  <span class="keyword">return</span>  <span class="keyword">new</span>  sgtPeppers();           <span class="comment">//返回sgtPeppers对象,将其注册为spring应用上下文的bean</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="2-1-Spring配置的可行性方案"><a href="#2-1-Spring配置的可行性方案" class="headerlink" title="2.1.Spring配置的可行性方案"></a>2.1.Spring配置的可行性方案</h3><p>提供了3种主要的配置方案：</p>
<p>1.在xml中显示配置</p>
<p>2.在java中进行显示配置</p>
<p>3.隐式的bean发现机制和自动装配</p>
<p><strong>尽可能地使用自动配置的机制。显示配置越少越好。必须显示配置bean的时候，推荐javaConfig而不是XML。</strong></p>
<h3 id="2-2-自动化配置bean"><a href="#2-2-自动化配置bean" class="headerlink" title="2.2.自动化配置bean"></a>2.2.自动化配置bean</h3><p>Spring从两个角度来实现自动化配置：</p>
<p>1.组件扫描：Spring会自动发现应用上下文中所创建的bean。</p>
<p>2.自动装配：Spring自动满足bean之间的依赖。</p>
<h4 id="2-2-2-为组件扫描的bean命名"><a href="#2-2-2-为组件扫描的bean命名" class="headerlink" title="2.2.2.为组件扫描的bean命名"></a>2.2.2.为组件扫描的bean命名</h4><p>Spring默认会给类名为其指定一个ID，默认是将类名的第一个字母变为小写。</p>
<p>如果想设置不同ID，则需要将ID作为值传递给**@Component注解**。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@component</span>（<span class="string">&quot;lonelyHeartsClub&quot;</span>）     <span class="comment">// lonelyHeartsClub 为 bean ID</span></span><br><span class="line"><span class="keyword">public</span>  <span class="class"><span class="keyword">class</span>  <span class="title">sgtppers</span>  <span class="keyword">implements</span>  <span class="title">compactDisac</span></span>&#123; -- &#125; <span class="comment">//sgtppers就是此类</span></span><br></pre></td></tr></table></figure>

<p>或者使用java依赖规范提供的**@Name<strong>注解替代</strong>@Compoent**为bean设置ID,但是不推荐。</p>
<h4 id="2-2-3-设置组件扫描的包"><a href="#2-2-3-设置组件扫描的包" class="headerlink" title="2.2.3.设置组件扫描的包"></a>2.2.3.设置组件扫描的包</h4><p>指定不同的包，在**@ComponentScan**的中指定包的名称。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@componentScan</span>（basePackage=<span class="string">&quot;Soundsystem&quot;</span>）  <span class="comment">//basePackage后为包名</span></span><br><span class="line"><span class="keyword">public</span>  <span class="class"><span class="keyword">class</span>  <span class="title">CDplayerConfig</span></span>&#123; -- &#125;  </span><br></pre></td></tr></table></figure>

<p>也可以指定为包所含的类或接口。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@componentScan</span>（basePackageClasses=&#123;CDplayer.class,DVDplayer.class&#125;）  //basePackageClasses后为类名或接口名</span><br><span class="line"><span class="keyword">public</span>  <span class="class"><span class="keyword">class</span>  <span class="title">CDplayerConfig</span></span>&#123;---&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="2-2-4-通过为bean添加注解实现自动装配"><a href="#2-2-4-通过为bean添加注解实现自动装配" class="headerlink" title="2.2.4.通过为bean添加注解实现自动装配"></a>2.2.4.通过为bean添加注解实现自动装配</h4><p>@Autowired注解，表明当spring创建类的bean的时候，会通过这个构造器来进行实例化，并且会传入一个可设置给类的类型的bean。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">public</span>  CDplayer（CompactDisc   cd）&#123; --&#125;       <span class="comment">//创建的是CDplayer类。 将CompactDisc bean传入类中 </span></span><br></pre></td></tr></table></figure>

<p>不仅能够用在构造器上，还可以用在属性的setter方法上。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">public</span>  <span class="keyword">void</span>  setCompactDisc（CompactDisc   cd）&#123;--&#125;   <span class="comment">//类的setCompactDisc方法。 将CompactDisc bean传入类中</span></span><br></pre></td></tr></table></figure>

<h3 id="2-3-通过java代码装配bean"><a href="#2-3-通过java代码装配bean" class="headerlink" title="2.3.通过java代码装配bean"></a>2.3.通过java代码装配bean</h3><h4 id="2-3-1-创建配置类"><a href="#2-3-1-创建配置类" class="headerlink" title="2.3.1.创建配置类"></a>2.3.1.创建配置类</h4><p>1.@Configuration注解，表明这个类是一个配置类。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@configuration</span></span><br><span class="line"><span class="keyword">public</span>  <span class="class"><span class="keyword">class</span>  <span class="title">CDplayerConfig</span></span>&#123;--&#125;  </span><br></pre></td></tr></table></figure>

<h4 id="2-3-2-声明简单的bean"><a href="#2-3-2-声明简单的bean" class="headerlink" title="2.3.2.声明简单的bean"></a>2.3.2.声明简单的bean</h4><p>在javaConfig中声明bean，需要编写方法，这个方法会创建所需类型的实例，然后给这个方法添加@Bean注解。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span>  CompactDisc  sgtPeppers&#123;        <span class="comment">//声明了CompactDisc bean</span></span><br><span class="line">  <span class="keyword">return</span>  <span class="keyword">new</span>  sgtPeppers();           <span class="comment">//返回sgtPeppers对象,将其注册为spring应用上下文的bean</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>默认情况下Bean的ID与带有@Bean注解的方法名是一样的，如果想取别的名，通过name属性。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span>（name=<span class="string">&quot;longlyHertsClubBand&quot;</span>）  <span class="comment">//bean ID为longlyHertsClubBand</span></span><br><span class="line"> <span class="keyword">public</span>  CompactDisc  sgtPeppers&#123;        </span><br><span class="line">    <span class="keyword">return</span>  <span class="keyword">new</span>  sgtPeppers();       </span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-3-3-借助JavaConfig实现注入"><a href="#2-3-3-借助JavaConfig实现注入" class="headerlink" title="2.3.3.借助JavaConfig实现注入"></a>2.3.3.借助JavaConfig实现注入</h4><p>在声明后，需要装配。装配最简单方式就是引用创建bean的方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span>  CDplayer    <span class="title">cdplayer</span><span class="params">()</span></span>&#123;         <span class="comment">//cdplay方法会创建CDplayer bean</span></span><br><span class="line">  <span class="keyword">return</span>   <span class="keyword">new</span>   CDplayer(sgtPeppers（）); <span class="comment">//返回的sgtPeppers对象，将其注册为spring应用上下文的bean</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>通过调用方法引用不太好，因此换构造器注入最好。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span>  CDplayer    <span class="title">cdplayer</span><span class="params">(CompactDisc  compactDisc)</span></span>&#123;  <span class="comment">//cdplay方法请求一个CompactDisc为参数。</span></span><br><span class="line">   <span class="keyword">return</span>   <span class="keyword">new</span>   CDplayer(compactDisc);            <span class="comment">//这时就会自动装配一个ConpactDisc到配置方法中。               </span></span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure>

<p>这种方式引用其他的bean是最佳的选择，因为它不会要求将CompactDisc声明到同一配置类之中。</p>
<p>也可以通过setter方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span>  CDplayer    <span class="title">cdplayer</span><span class="params">(CompactDisc  compactDisc)</span></span>&#123;  <span class="comment">//cdplay方法请求一个CompactDisc为参数。</span></span><br><span class="line">    CDplayer   cdplayer  = <span class="keyword">new</span> CDplayer(compactDisc);       </span><br><span class="line">       cdplay.setCompactDisc(compactDisc);</span><br><span class="line">         <span class="keyword">return</span>  cdplay;                        </span><br><span class="line">                 &#125;  </span><br></pre></td></tr></table></figure>

<h3 id="2-4-通过XML装配bean"><a href="#2-4-通过XML装配bean" class="headerlink" title="2.4.通过XML装配bean"></a>2.4.通过XML装配bean</h3><h4 id="2-4-2-声明一个简单的-lt-bean"><a href="#2-4-2-声明一个简单的-lt-bean" class="headerlink" title="2.4.2.声明一个简单的&lt;bean"></a>2.4.2.声明一个简单的&lt;bean</h4><p><bean>元素类似于JavaConfig中的@Bean注解。通过class属性来确定这个bean的类</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>= <span class="string">&quot;soundsystem.SgtPeppers&quot;</span> /&gt;</span> soundsystem包名，SgtPeppers类名</span><br></pre></td></tr></table></figure>

<p>因为没有明确ID,所以会是soundsystem.SgtPeppers#0，所以需要通过id属性自定义bean ID</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span>  <span class="attr">id</span>=<span class="string">&quot;compactDisc&quot;</span>  <span class="attr">class</span> =<span class="string">&quot;soundsystem.sgtPeppers&quot;</span>/&gt;</span>   //compactDisc为ID名</span><br></pre></td></tr></table></figure>

<h4 id="2-4-3-借助构造器注入初始化bean"><a href="#2-4-3-借助构造器注入初始化bean" class="headerlink" title="2.4.3.借助构造器注入初始化bean"></a>2.4.3.借助构造器注入初始化bean</h4><p>在XML中，只有一种声明bean的方式，但是声明DI的时候，会有两种基本的配置方案选择。</p>
<p>1.<constructor-arg>元素。</p>
<p>2.使用Spring3.0所引用的c-命名空间。</p>
<p><constructor-arg>元素,ref属性告知将一个ID为xx的bean引用传递到类构造器中</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span>  <span class="attr">id</span>=<span class="string">&quot;cdplay&quot;</span> <span class="attr">class</span> =<span class="string">&quot;soundsystem.CDplayer&quot;</span>&gt;</span>   //CDplayer为类</span><br><span class="line">  <span class="tag">&lt;<span class="name">constructor-arg</span>  <span class="attr">ref</span>=<span class="string">&quot;compactDisc&quot;</span>/&gt;</span>            //compactDisc为ID名</span><br><span class="line"> <span class="tag">&lt;/<span class="name">bean</span>&gt;</span>                                           //compactDisc bean引用传递到CDplay的构造器中</span><br></pre></td></tr></table></figure>

<p>也可以使用c-命名空间。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span>  <span class="attr">id</span>=<span class="string">&quot;cdplay&quot;</span>    <span class="attr">class</span> =<span class="string">&quot;soundsystem.CDplayer&quot;</span></span></span><br><span class="line"><span class="tag">   <span class="attr">c:cd-ref</span>=<span class="string">&quot;compactDisc&quot;</span>/&gt;</span></span><br><span class="line">c://C-空间命名前缀，cd//构造器参数名，-ref//注入bean引用，“”//为要注入的bean ID</span><br></pre></td></tr></table></figure>

<p>前面都是对象的引用装配，有时候，我们需要的只是一个字面量来配置对象。用value属性将字面量注入到构造器中。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span>  <span class="attr">id</span>=<span class="string">&quot;cdplay&quot;</span>    <span class="attr">class</span> =<span class="string">&quot;soundsystem.CDplayer&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">constructor-arg</span>  <span class="attr">value</span>=<span class="string">&quot;xxx&quot;</span>/&gt;</span>    //xxx为字面量</span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span> </span><br></pre></td></tr></table></figure>

<p>还可以装配集合。<list>元素装配集合。或者<set>元素，可替换。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">value</span>&gt;</span>xxx<span class="tag">&lt;<span class="name">value</span>/&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">value</span>&gt;</span>xxx<span class="tag">&lt;<span class="name">value</span>/&gt;</span></span><br><span class="line">               <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>也可以用<ref>元素。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;xxx&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;xxx&quot;</span>/&gt;</span></span><br><span class="line">             <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><property>元素name注入属性。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span>  <span class="attr">id</span>=<span class="string">&quot;cdplay&quot;</span>    <span class="attr">class</span> =<span class="string">&quot;soundsystem.CDplayer&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;compactDisc&quot;</span>  <span class="attr">ref</span>=<span class="string">&quot;compactDisc&quot;</span>/&gt;</span>        //引用ref的ID的bean，</span><br><span class="line">   <span class="tag">&lt;/<span class="name">bean</span>&gt;</span>             //注入compactDisc属性中</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>也可以用p-命名空间。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span>  <span class="attr">id</span>=<span class="string">&quot;cdplay&quot;</span>    <span class="attr">class</span> =<span class="string">&quot;soundsystem.CDplayer&quot;</span></span></span><br><span class="line"><span class="tag">   <span class="attr">p</span>：<span class="attr">compactDisc-ref</span>=<span class="string">&quot;compactDisc&quot;</span>/&gt;</span>     </span><br></pre></td></tr></table></figure>

<p>用value属性将字面量注入到属性中。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span>  <span class="attr">id</span>=<span class="string">&quot;cdplay&quot;</span>    <span class="attr">class</span> =<span class="string">&quot;soundsystem.CDplayer&quot;</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;compactDisc&quot;</span>  <span class="attr">value</span>=<span class="string">&quot;xxx&quot;</span>/&gt;</span>      //将xxx注入到compactDisc属性中</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="2-5-导入和混合配置。"><a href="#2-5-导入和混合配置。" class="headerlink" title="2.5.导入和混合配置。"></a>2.5.导入和混合配置。</h3><p>只需要了解的事情就是自动装配时，它并不在意要装配的bean来自哪里。自动装配的时候会考虑到Spring容器所有的bean，</p>
<p>不管它是来自JavaConfig或XML中声明的还是通过组件扫描获取到的。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/09/04/spring%E5%AE%9E%E6%88%984/" data-id="ckeo9ixw10000akv4c755f244" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/spring-Component-ComponentScan-contextConfiguaration-Autwired%EF%BC%8C-Bean/" rel="tag">spring,@Component,@ComponentScan,@contextConfiguaration,@Autwired，@Bean</a></li></ul>

    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring-Component-ComponentScan-contextConfiguaration-Autwired%EF%BC%8C-Bean/" rel="tag">spring,@Component,@ComponentScan,@contextConfiguaration,@Autwired，@Bean</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/spring-Component-ComponentScan-contextConfiguaration-Autwired%EF%BC%8C-Bean/" style="font-size: 10px;">spring,@Component,@ComponentScan,@contextConfiguaration,@Autwired，@Bean</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/09/04/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2020/09/04/spring%E5%AE%9E%E6%88%984/">spring实战4第二章</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>